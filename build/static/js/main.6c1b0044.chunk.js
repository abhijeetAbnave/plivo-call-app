(this["webpackJsonpplivo-call-app"]=this["webpackJsonpplivo-call-app"]||[]).push([[0],{108:function(e){e.exports=JSON.parse('{"apiEndPoint":"http://localhost:8080"}')},119:function(e,t,n){},121:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(29),r=n.n(o),s=(n(119),n(120),n(76)),i=n.n(s),l=n(100),u=n(34),j=(n(121),n(9));var b=function(e){var t=e.userDetails,n=e.refreshSession,c=Object(a.useState)(t.time),o=Object(u.a)(c,2),r=o[0],s=o[1];return Object(a.useEffect)((function(){var e=null;return 0===r&&n(),r>0&&(e=setTimeout((function(){s(r-1)}),1e3)),function(){e||clearTimeout(e)}}),[r]),Object(j.jsxs)(a.Fragment,{children:["Hi ",t.username,", You are now speaking to ",t.to," This Call will End in : ",r," Seconds"]})},d=n(26),m=n(212),h=n(211),p=n(213),O=n(111),f=m.a.Option,v=function(e){var t=e.userDetails,n=e.setUserDetails,c=e.makeCall,o=Object(a.useState)(t.countryCodeFrom),r=Object(u.a)(o,2),s=r[0],i=r[1],l=Object(a.useState)(t.countryCodeTo),b=Object(u.a)(l,2),v=b[0],x=b[1],y=Object(a.useState)(t.time),C=Object(u.a)(y,2),g=C[0],F=C[1],S=Object(j.jsx)(h.a.Item,{name:"countryCodeFrom",noStyle:!0,children:Object(j.jsxs)(m.a,{defaultValue:s,style:{width:67},onChange:function(e){n(Object(d.a)(Object(d.a)({},t),{},{countryCodeFrom:e})),i(e)},children:[Object(j.jsx)(f,{value:"+91",children:"+91"}),Object(j.jsx)(f,{value:"+87",children:"+87"})]})}),P=Object(j.jsx)(h.a.Item,{name:"countryCodeTo",noStyle:!0,children:Object(j.jsxs)(m.a,{defaultValue:v,style:{width:67},onChange:function(e){n(Object(d.a)(Object(d.a)({},t),{},{countryCodeTo:e})),x(e)},children:[Object(j.jsx)(f,{value:"+91",children:"+91"}),Object(j.jsx)(f,{value:"+87",children:"+87"})]})});return Object(j.jsxs)(h.a,Object(d.a)(Object(d.a)({},{labelCol:{span:14},wrapperCol:{span:100}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){e.countryCodeFrom=s,e.countryCodeTo=v,e.time=g,e.to=v+e.phoneNumberTo,e.from=s+(e.phoneNumberFrom?e.phoneNumberFrom:t.from),e.name=e.name,n(Object(d.a)(Object(d.a)({},t),e)),c(e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(j.jsx)(h.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(j.jsx)(p.a,{})}),Object(j.jsx)(h.a.Item,{label:"Your Plivo Phone Number",name:"phoneNumberFrom",rules:[{message:"Please input your phone number!"}],children:Object(j.jsx)(p.a,{addonBefore:S})}),Object(j.jsx)(h.a.Item,{label:"Phone Number to call",name:"phoneNumberTo",rules:[{required:!0,message:"Please input phone number to call!"}],children:Object(j.jsx)(p.a,{addonBefore:P})}),Object(j.jsx)(h.a.Item,{label:"Select call time",name:"time",children:Object(j.jsxs)(m.a,{defaultValue:g,style:{width:100},onChange:function(e){n(Object(d.a)(Object(d.a)({},t),{},{time:e})),F(e)},children:[Object(j.jsx)(f,{value:30,children:"30 sec"}),Object(j.jsx)(f,{value:300,children:"5 min"}),Object(j.jsx)(f,{value:600,children:"10 min"}),Object(j.jsx)(f,{value:900,children:"15 min"})]})}),Object(j.jsx)(h.a.Item,Object(d.a)(Object(d.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(j.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))},x=n(75),y=n.n(x),C=n(108);var g=function(){var e=y.a.create();return e.defaults.baseURL="".concat(C.apiEndPoint,"/"),e.defaults.headers.common["Content-Type"]="application/json",e.defaults.timeout=12e4,e.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return null===e||void 0===e?void 0:e.data}),(function(e){var t;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?Promise.reject(e.response.data):Promise.reject(e)})),e}(),F={postApi:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.post(e,t,n)}};n(75);var S=function(){var e={name:"",countryCodeFrom:"+91",countryCodeTo:"+91",from:"+425334523435",to:"",time:30},t=Object(a.useState)(e),n=Object(u.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(!0),s=Object(u.a)(r,2),d=s[0],m=s[1],h=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.postApi("/plivio/callAPI",t).then((function(e){console.log(e),m(!1)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[c]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("div",{className:"container",children:d?Object(j.jsx)(v,{userDetails:c,setUserDetails:o,makeCall:h}):Object(j.jsx)(b,{userDetails:c,refreshSession:function(){m(!0),o(e)}})})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),P()}},[[208,1,2]]]);
//# sourceMappingURL=main.6c1b0044.chunk.js.map